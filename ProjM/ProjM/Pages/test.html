<!DOCTYPE html>
<html>
<head>



    <meta charset="utf-8" />
    <title></title>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
            crossorigin="anonymous"></script>
    <script src="../Scripts/jquery-3.4.1.js"></script>
    <script src="../Scripts/jquery-3.4.1.min.js"></script>
    <script src="../Scripts/AjaxCalls.js"></script>

    <script src="https://apis.google.com/js/api.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <link href="style.css" rel="stylesheet" />
    <script src="../Scripts/ajaxCalls.js"></script>
</head>

<body>
<button onclick="showVideoTitle()" id="testg">Click</button>

    <div id="aaa">



    </div>


    <script>
        let arr = [];

        function showVideoTitle() {
            console.log("in rend");
              let startDate = "2021-05-17T12:00";
              let endDate = "2021-05-17T14:00";
        /*    let api = "../api/student/" + startDate + "/date/" + endDate;*/
            let api = "../api/Videos?from=" + startDate + "&to=" + endDate
            /*let api = "../api/Videos";*/
            ajaxCall("GET", api, "", suc, err);

            video = {
               
                startDate: "2021-05-17T12:00",
                endDate: "2021-05-17T14:00"
            }
            console.log(video);




            /*ajaxCallLocal("POST", "../api/Videos", JSON.stringify(video), postSuccess(this), postError)*/
        }
        
        function suc(data) {
            $("#aaa").html('').append($('', { src: 'blah.gif' }));
            console.log("yess")
            console.log(data)
            arr = JSON.parse (data);
            console.log(arr.GetPlaybackResult.Result)
            video = `<video id="my-video"
                class="video-js"
                controls
                preload="auto"
                width="720px"
                height="264"
              
                data-setup="{}">
                <source src=${arr.GetPlaybackResult.Result} type="video/mp4" />

            </video>`
            $("#aaa").append(video);

        }
        function err(err) {
            console.log(err)
        }

        function postSuccess(data) {
            console.log(data)
        }
        function postError(err) {
            console.log(err)
        }
    </script>
</body>
</html>


